@using ILK_Protokoll.Models
@model IEnumerable<ILK_Protokoll.Models.Attachment>

<table class="table table-striped file-table table-sortable" id="attachments_@ViewBag.TopicID">
	<thead>
		<tr>
			<th class="col-xs-1"></th>
			<th>@Html.DisplayNameFor(model => model.DisplayName)</th>
			<th class="col-xs-1">@Html.DisplayNameFor(model => model.FileSize)</th>
			<th class="col-xs-1">@Html.DisplayNameFor(model => model.Uploader)</th>
			<th class="col-xs-2">@Html.DisplayNameFor(model => model.Created)</th>
			<th class="col-xs-1">Aktionen</th>
		</tr>
	</thead>
	<tbody>
		@foreach (Attachment file in Model)
		{
			Html.RenderPartial("~/Views/Attachments/_AttachmentRow.cshtml", file);
		}
	</tbody>
	<tfoot>
		@if (!string.IsNullOrEmpty(ViewBag.StatusMessage))
		{
			<tr>
				<td colspan="6">
					<span style="text-align: right;">@Html.Raw(Html.Encode(ViewBag.StatusMessage).Replace("\n", "<br />"))</span>
				</td>
			</tr>
		}
	</tfoot>
</table>

@if (Request.IsAjaxRequest())
{
	<script type="text/javascript"> $("#attachments_@ViewBag.TopicID time[rel=timeago]").timeago(); </script>
}